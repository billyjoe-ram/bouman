<!-- Post card -->
<div class="card" *ngIf="pubType === 'post'; else project">
    <!-- Post content and user data -->
    <div class="card-body">
        <div class="row">
            <div class="profile-details col-sm-11 col-md-11 col-lg-11">
                <!-- User informations -->
                <img [src]="profileImg" alt="Foto de Perfil" class="profile-picture">
                <div class="profile-info">
                    {{ profileName }}
                    <span>{{ publication.publishedAt.seconds * 1000 | date: 'd MMM yy'}} </span>
                </div>
            </div>

            <div class="col-sm-1 col-md-1 col-lg-1" style="padding: 0;">
                <button id="btnDelete" data-toggle="modal" data-target="#deletePost" (click)='deleteclick(publication)' [ngClass]="'btnDelete'">
                    <img src="../../../../assets/trash.png" alt="Delete">
                </button>
            </div>
        </div>

        <!-- Post text with text limiting pipe -->
        <p class="card-text">
            {{ publication.content | slice:0:limit }}<span [hidden]="sMDisabled" (click)="showMore()">ver mais...</span>
        </p>
    </div>

    <div class="card-footer">
        <!-- This should be commented out when interactions are implemented -->
        <button class="btn btn-default" (click)="onLikePost(publication)" id="likeButtonPost">
            <span> {{ publication.likes.length }} </span> <img src="/assets/like-gray.svg" alt="Curtir">Curtir
        </button>

        <!-- <button class="btn btn-default">
            <img src="/assets/comment-gray.svg" alt="Comentar">Comentar
        </button>

        <button class="btn btn-default">
            <img src="/assets/share-gray.svg" alt="Compartilhar">Compartilhar
        </button> -->

    </div>
</div>

<div class="modal fade" id="deletePost" tabindex="-1" role="dialog" aria-labelledby="deletePost" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deletePost">Você deseja excluir esta publicação?</h5>
            </div>
            <div class="modal-body">
                Ao clicar em "Excluir", a publicação seja excluída permanentemente.
            </div>
            <div class="modal-footer">
                <button type="button" id="close" class="btn btn-outline-dark" data-dismiss="modal">Cancelar</button>
                <button type="submit" class="btn btn-bouman-modal" (click)="onDelete()">Excluir</button>
            </div>
        </div>
    </div>
</div>

<!-- Project card -->
<ng-template #project>
    <project-card [profileId]="profileId" [project]="publication" [userProfile]='userProfile' (projectDeleted)="emitProjecDeleted($event)"></project-card>
</ng-template>